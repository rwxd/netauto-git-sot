# Generated by Ansible

# Defaults

auto mgmt
iface mgmt
    vrf-table auto
    address 127.0.0.1/8
    address ::1/128

auto eth0
iface eth0 inet dhcp
    alias Management
    vrf mgmt
    post-up sysctl -w net.ipv6.conf.eth0.accept_ra=2

# Loopbacks
auto loopback1
iface loopback1 inet loopback
    alias Loopback 1


# Physical Ports
auto swp51
iface swp51
    alias Spine01

auto swp52
iface swp52
    alias Spine02

auto swp53
iface swp53
    alias Spine03

auto swp54
iface swp54
    alias Spine04

auto swp1
iface swp1
    alias Server01
    bridge-access 10

auto swp2
iface swp2
    alias Server02
    bridge-access 10

auto swp3
iface swp3
    alias Server03
    bridge-access 11


# VLANs
auto vlan10
iface vlan10
    alias Krasses VLAN 10
    vlan-raw-device bridge
    vrf lab

auto vlan11
iface vlan11
    alias Krasses VLAN 11
    vlan-raw-device bridge
    vrf lab

auto vlan12
iface vlan12
    alias Krasses VLAN 12
    vlan-raw-device bridge
    vrf lab


# VXLANs
auto vni10010
iface vni10010
    bridge-access 10
    vxlan-id 10010
    vxlan-local-tunnelip 228.139.233.56
    bridge-arp-nd-suppress on
    bridge-learning off
    mstpctl-bpduguard yes
    mstpctl-portbpdufilter yes

auto vni10011
iface vni10011
    bridge-access 11
    vxlan-id 10011
    vxlan-local-tunnelip 228.139.233.56
    bridge-arp-nd-suppress on
    bridge-learning off
    mstpctl-bpduguard yes
    mstpctl-portbpdufilter yes

auto vni10012
iface vni10012
    bridge-access 12
    vxlan-id 10012
    vxlan-local-tunnelip 228.139.233.56
    bridge-arp-nd-suppress on
    bridge-learning off
    mstpctl-bpduguard yes
    mstpctl-portbpdufilter yes


# VRFs
auto vrflab
iface vrflab
    vrf-table auto


# Bridges
auto bridge
iface bridge
    bridge-ports swp51, swp52, swp53, swp54, swp1, swp2, swp3
    bridge-vids 10, 10, 11
